<html>
    <head>
        <title>Narrative Visualization - Worldwide Disaster</title>
        <!-- Include D3 library -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"
            integrity="sha512-M7nHCiNUOwFt6Us3r8alutZLm9qMt4s9951uo8jqO4UwJ1hziseL6O3ndFyigx6+LREfZqnhHxYjKRJ8ZQ69DQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <!-- Include d3-annotation library -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/2.5.1/d3-annotation.min.js"
            integrity="sha512-iBAeBWWWFb8HqSBcrqcz98iIpuVH1la39dEYHtyQ/pGpeCQTQVvLJOWAuhv2Q7JSHp9k7hWA7sGxU3hHJe+tFg=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="custom.js" charset="utf-8"></script>
        <link href="custom.css" rel="stylesheet" type="text/css">
    </head>

<body>
    <!-- Menu section -->
    <div id="scene0" class="container-fluid center" style="height:250px">
        <div>
            <p>
                <h1>1. World Birth and Death Trend</h1>
                This scene depicts the global trends for birth and death from <b>1950 to 2023</b>.<br>
                You have the option to view it either in the normalized scale or in the absolute scale. If you wish to see it in the absolute scale please uncheck the checkbox below.<br>
                <br>
                While both birth and death data show an overall upward trend, there are two significant spikes in the death data, indicating major calamities during the periods <b>1959 - 1961</b> and <b>2019 - 2021</b>.<br>
                Feel free to <b>move your mouse</b> over the black circles to know more about these events.<br>
                We will be analysing these periods thoroughly in the next few slides.
            </p>
            <button id="to_scene1" type="button" onclick="onToSceneOne()">Next Slide</button>
        </div>
    </div>

    <div id="scene1" class="container-fluid center" style="display:none;height:250px">
        <div>
            <p>
                <h1>2. Great Chinese Famine (1959 - 1961)</h1>
                This scene shows the death trend for each region during <b>1955 - 1965</b>.<br>
                You have the option to view it either in the normalized scale or in the absolute scale. If you wish to see it in the absolute scale please uncheck the checkbox below.<br>
                <br>
                The Asian region seems to have been affected the most during this period, with a spike in the death rate. <br> The other regions are experiencing smoother trends during the same period.<br>
                Feel free to <b>move your mouse</b> over the black circles to know more about the events.
            </p>
            <button id="to_scene2" type="button" onclick="onToSceneTwo()">Next Slide</button>
        </div>
    </div>

    <div id="scene2" class="container-fluid center" style="display:none;height:250px">
        <div>
            <p>
                <h1>3. Covid 19 (2019 - Present)</h1>
                This scene shows the death trend for each region during <b>2015 - 2023</b>.<br>
                You have the option to view it either in the normalized scale or in the absolute scale. If you wish to see it in the absolute scale please uncheck the checkbox below.<br>
                <br>
                Almost all the regions experienced an increased death rate during the <b>2020 - 2021</b> period.<br>
                The Americas Region had the steepest increase in the percentage of deaths from 2015, while Asia lost the most lives during this period.<br>
                Feel free to <b>move your mouse</b> over the black circles to know more about the events.
            </p>
            <button id="to_scene3" type="button" onclick="onToSceneThree()">Next Slide</button>
        </div>
    </div>

    <div id="scene3" class="container-fluid center" style="display:none;height:250px">
        <div>
            <p>
                <h1>4. Exploration</h1>
                Other calamities might have occurred without causing significant spikes in the global death trend due to population imbalances in each region.<br>
                In this scene you will put on your explorer's hat and try to find any spikes in death data over different time periods.<br>
                You can select the region, start and end years to focus on the data points you are really interested in.<br>
                As always, you have the option to view it either in the normalized scale or in the absolute scale. If you wish to see it in the absolute scale please uncheck the checkbox below.<br>
            </p>
            <button id="to_scene0" type="button" onclick="onToSceneZero()">Start Again</button>
        </div>
        <div id="selector-div">
            <div id="region_selector"> Regions Selected </div>
            <div id="start_year_selector"> Start Year Selected </div>
            <div id="end_year_selector"> End Year Selected </div>
        </div>
    </div>
    
    <p class="center" id="plotTitle"></p>
    <div class="content" id="my_dataviz">
        <svg id="chart"></svg>
    </div>
    <svg class="" id="legend" width="600"></svg>
    <div class="center">
        <label for="myCheck">Normalize Data:</label> 
        <input type="checkbox" id="myCheck" checked onclick="myFunction()">
    </div>
    <script>
        initializeConfiguration()
        startDrawing(0);
    </script>
    <script>
        function myFunction() {
          var checkBox = document.getElementById("myCheck");
          if (checkBox.checked == true){
            setNormalizeFlag(-1)
          } else {
            unsetNormalizeFlag(-1)
          }
        }
     </script>
<div class="container-fluid center" style="height:50px;margin-top:50px;">
    <i>Data used for this project are from <a href="https://population.un.org/wpp/Download/Standard/CSV/">The United Nations Department of Economic and Social Affairs Population Division</a></i> and <a href="https://github.com/lukes/ISO-3166-Countries-with-Regional-Codes/blob/master/all/all.csv">Countries Data from Github</a><br/>
</div>
</body>
</html>